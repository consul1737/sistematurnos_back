import{d as k,u as V,r as m,a as F,b as o,c as b,o as w,w as a,e as t,f as d,g as M,h as U,i as u,n as f,j as E,k as L,l as T,m as D,p as O,q as P,s as $,_ as q}from"./index-0RBMUp7G.js";import{M as G,e as H,p as J}from"./MyAlerts-CQOAdSg1.js";const K={class:"text-center mt-8"},Q=k({__name:"SingIn",setup(C){const l=V(),i=m(!1),p=m(null),s=m({email:"",password:""}),r=m({show:!1,type:"info",message:""}),{login:g}=L(),y=F(),h=async()=>{var e,v,_;if((e=p.value)==null?void 0:e.validate())try{const n=await E.post("/signin",s.value);n.data.NotFound?r.value={show:!0,type:"error",message:"Usuario no encontrado."}:(console.log(n.data),g(n.data),y.push("/home"),r.value={show:!0,type:"success",message:"Bienvenido"})}catch(n){T(n)?r.value={show:!0,type:"error",message:((_=(v=n.response)==null?void 0:v.data)==null?void 0:_.message)||"Error en la solicitud"}:r.value={show:!0,type:"error",message:"OcurriÃ³ un error inesperado"}}};return(I,e)=>{const v=o("v-card-title"),_=o("v-card-subtitle"),n=o("v-text-field"),N=o("v-checkbox"),x=o("router-link"),B=o("v-row"),R=o("v-btn"),S=o("v-form"),j=o("v-card-text"),z=o("v-card"),A=o("v-container");return w(),b(A,null,{default:a(()=>[t(G,{alert:r.value,"onUpdate:alert":e[0]||(e[0]=c=>r.value=c),timeout:3e3},null,8,["alert"]),t(z,{class:"rounded",style:f({backgroundColor:u(l).global.current.value.colors.surface,color:u(l).global.current.value.colors["on-background"],height:"auto",width:"450px",margin:"0 auto",display:"grid",justifyContent:"center",alignContent:"center",gap:"2rem",padding:"2rem 1.5rem"})},{default:a(()=>[t(v,{class:"text-h5"},{default:a(()=>e[4]||(e[4]=[d("Bienvenido a GestionApp ðŸ‘‹")])),_:1}),t(_,null,{default:a(()=>e[5]||(e[5]=[d("Por favor ingresa tu cuenta y comienza la aventura")])),_:1}),t(j,{class:"d-flex flex-column justify-lg-space-evenly"},{default:a(()=>[t(S,{ref_key:"signinForm",ref:p,onSubmit:U(h,["prevent"]),"lazy-validation":""},{default:a(()=>[t(n,{variant:"outlined",clearable:"",label:"E-mail",class:"w-100",density:"compact",rules:u(H),modelValue:s.value.email,"onUpdate:modelValue":e[1]||(e[1]=c=>s.value.email=c)},null,8,["rules","modelValue"]),t(n,{modelValue:s.value.password,"onUpdate:modelValue":e[2]||(e[2]=c=>s.value.password=c),"append-inner-icon":i.value?"mdi-eye-off":"mdi-eye",type:i.value?"text":"password",rules:u(J),density:"compact",label:"Password",variant:"outlined","onClick:appendInner":e[3]||(e[3]=c=>i.value=!i.value)},null,8,["modelValue","append-inner-icon","type","rules"]),t(B,{class:"d-flex justify-space-between align-center"},{default:a(()=>[t(N,{label:"Recordarme",class:"mr-2 custom-label","hide-details":"",style:f({color:u(l).global.current.value.colors.secondary})},null,8,["style"]),t(x,{style:f({color:u(l).global.current.value.colors.primary,textDecoration:"none",marginLeft:"10px",display:"flex",alignItems:"center"}),to:"/forgot-password"},{default:a(()=>e[6]||(e[6]=[d(" Â¿Olvidaste tu contraseÃ±a? ")])),_:1},8,["style"])]),_:1}),t(R,{color:"primary",block:"",class:"primary mt-3",type:"submit"},{default:a(()=>e[7]||(e[7]=[d("Iniciar SesiÃ³n ")])),_:1})]),_:1},512),M("p",K,[e[9]||(e[9]=d(" No tienes una cuenta? ")),t(x,{style:f({color:u(l).global.current.value.colors.primary,textDecoration:"none"}),to:"/createuser"},{default:a(()=>e[8]||(e[8]=[d("Registrate")])),_:1},8,["style"])])]),_:1})]),_:1},8,["style"])]),_:1})}}}),W=k({__name:"LoginView",setup(C){const l=V(),i=m(!0),p=D(()=>l.global.current.value.dark?"background-dark":"background-light");return O(()=>{const s=localStorage.getItem("theme");s&&(l.global.name.value=s)}),(s,r)=>{const g=o("v-col"),y=o("v-row");return w(),b(y,{class:$(p.value)},{default:a(()=>[t(g,{md:"12",sm:"6"},{default:a(()=>[i.value?(w(),b(Q,{key:0})):P("",!0)]),_:1})]),_:1},8,["class"])}}}),Z=q(W,[["__scopeId","data-v-969f85a7"]]);export{Z as default};
